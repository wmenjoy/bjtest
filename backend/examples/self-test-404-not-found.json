{
  "workflowId": "self-test-404-not-found",
  "name": "404 Not Found Error Tests",
  "version": "1.0.0",
  "description": "System tests for 404 Not Found responses - verifies all resources return 404 when not found (按照HTTP规范，资源不存在必须返回404)",
  "definition": {
    "variables": {
      "baseUrl": "http://localhost:8090/api",
      "nonExistentId": "non-existent-id-12345",
      "nonExistentRunId": "00000000-0000-0000-0000-000000000000"
    },
    "steps": {
      "step01_getGroup404": {
        "id": "step01_getGroup404",
        "name": "GET Non-existent Group",
        "type": "http",
        "config": {
          "method": "GET",
          "url": "{{baseUrl}}/groups/{{nonExistentId}}"
        }
      },
      "step02_assertGroup404": {
        "id": "step02_assertGroup404",
        "name": "Assert 404 for Group",
        "type": "assert",
        "dependsOn": [
          "step01_getGroup404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step01_getGroup404.response.statusCode}}",
              "expected": 404,
              "message": "GET /api/groups/{non-existent-id} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step03_getTest404": {
        "id": "step03_getTest404",
        "name": "GET Non-existent Test",
        "type": "http",
        "dependsOn": [
          "step02_assertGroup404"
        ],
        "config": {
          "method": "GET",
          "url": "{{baseUrl}}/tests/{{nonExistentId}}"
        }
      },
      "step04_assertTest404": {
        "id": "step04_assertTest404",
        "name": "Assert 404 for Test",
        "type": "assert",
        "dependsOn": [
          "step03_getTest404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step03_getTest404.response.statusCode}}",
              "expected": 404,
              "message": "GET /api/tests/{non-existent-id} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step05_getEnv404": {
        "id": "step05_getEnv404",
        "name": "GET Non-existent Environment",
        "type": "http",
        "dependsOn": [
          "step04_assertTest404"
        ],
        "config": {
          "method": "GET",
          "url": "{{baseUrl}}/environments/{{nonExistentId}}"
        }
      },
      "step06_assertEnv404": {
        "id": "step06_assertEnv404",
        "name": "Assert 404 for Environment",
        "type": "assert",
        "dependsOn": [
          "step05_getEnv404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step05_getEnv404.response.statusCode}}",
              "expected": 404,
              "message": "GET /api/environments/{non-existent-id} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step07_getWorkflow404": {
        "id": "step07_getWorkflow404",
        "name": "GET Non-existent Workflow",
        "type": "http",
        "dependsOn": [
          "step06_assertEnv404"
        ],
        "config": {
          "method": "GET",
          "url": "{{baseUrl}}/workflows/{{nonExistentId}}"
        }
      },
      "step08_assertWorkflow404": {
        "id": "step08_assertWorkflow404",
        "name": "Assert 404 for Workflow",
        "type": "assert",
        "dependsOn": [
          "step07_getWorkflow404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step07_getWorkflow404.response.statusCode}}",
              "expected": 404,
              "message": "GET /api/workflows/{non-existent-id} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step09_deleteTest404": {
        "id": "step09_deleteTest404",
        "name": "DELETE Non-existent Test",
        "type": "http",
        "dependsOn": [
          "step08_assertWorkflow404"
        ],
        "config": {
          "method": "DELETE",
          "url": "{{baseUrl}}/tests/{{nonExistentId}}"
        }
      },
      "step10_assertDeleteTest404": {
        "id": "step10_assertDeleteTest404",
        "name": "Assert 404 for DELETE Test",
        "type": "assert",
        "dependsOn": [
          "step09_deleteTest404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step09_deleteTest404.response.statusCode}}",
              "expected": 404,
              "message": "DELETE /api/tests/{non-existent-id} must return 404 (SPEC VIOLATION: currently returns 500)"
            }
          ]
        },
        "onError": "continue"
      },
      "step11_deleteGroup404": {
        "id": "step11_deleteGroup404",
        "name": "DELETE Non-existent Group",
        "type": "http",
        "dependsOn": [
          "step10_assertDeleteTest404"
        ],
        "config": {
          "method": "DELETE",
          "url": "{{baseUrl}}/groups/{{nonExistentId}}"
        }
      },
      "step12_assertDeleteGroup404": {
        "id": "step12_assertDeleteGroup404",
        "name": "Assert 404 for DELETE Group",
        "type": "assert",
        "dependsOn": [
          "step11_deleteGroup404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step11_deleteGroup404.response.statusCode}}",
              "expected": 404,
              "message": "DELETE /api/groups/{non-existent-id} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step13_putTest404": {
        "id": "step13_putTest404",
        "name": "PUT Non-existent Test",
        "type": "http",
        "dependsOn": [
          "step12_assertDeleteGroup404"
        ],
        "config": {
          "method": "PUT",
          "url": "{{baseUrl}}/tests/{{nonExistentId}}",
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "name": "Updated Test",
            "description": "This test does not exist"
          }
        }
      },
      "step14_assertPutTest404": {
        "id": "step14_assertPutTest404",
        "name": "Assert 404 for PUT Test",
        "type": "assert",
        "dependsOn": [
          "step13_putTest404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step13_putTest404.response.statusCode}}",
              "expected": 404,
              "message": "PUT /api/tests/{non-existent-id} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step15_executeWorkflow404": {
        "id": "step15_executeWorkflow404",
        "name": "Execute Non-existent Workflow",
        "type": "http",
        "dependsOn": [
          "step14_assertPutTest404"
        ],
        "config": {
          "method": "POST",
          "url": "{{baseUrl}}/workflows/{{nonExistentId}}/execute",
          "headers": {
            "Content-Type": "application/json"
          }
        }
      },
      "step16_assertExecuteWorkflow404": {
        "id": "step16_assertExecuteWorkflow404",
        "name": "Assert 404 for Execute Workflow",
        "type": "assert",
        "dependsOn": [
          "step15_executeWorkflow404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step15_executeWorkflow404.response.statusCode}}",
              "expected": 404,
              "message": "POST /api/workflows/{non-existent-id}/execute must return 404 (SPEC VIOLATION: currently returns 500)"
            }
          ]
        },
        "onError": "continue"
      },
      "step17_executeTest404": {
        "id": "step17_executeTest404",
        "name": "Execute Non-existent Test",
        "type": "http",
        "dependsOn": [
          "step16_assertExecuteWorkflow404"
        ],
        "config": {
          "method": "POST",
          "url": "{{baseUrl}}/tests/{{nonExistentId}}/execute",
          "headers": {
            "Content-Type": "application/json"
          }
        }
      },
      "step18_assertExecuteTest404": {
        "id": "step18_assertExecuteTest404",
        "name": "Assert 404 for Execute Test",
        "type": "assert",
        "dependsOn": [
          "step17_executeTest404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step17_executeTest404.response.statusCode}}",
              "expected": 404,
              "message": "POST /api/tests/{non-existent-id}/execute must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step19_getWorkflowRun404": {
        "id": "step19_getWorkflowRun404",
        "name": "GET Non-existent Workflow Run",
        "type": "http",
        "dependsOn": [
          "step18_assertExecuteTest404"
        ],
        "config": {
          "method": "GET",
          "url": "{{baseUrl}}/workflows/runs/{{nonExistentRunId}}"
        }
      },
      "step20_assertWorkflowRun404": {
        "id": "step20_assertWorkflowRun404",
        "name": "Assert 404 for Workflow Run",
        "type": "assert",
        "dependsOn": [
          "step19_getWorkflowRun404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step19_getWorkflowRun404.response.statusCode}}",
              "expected": 404,
              "message": "GET /api/workflows/runs/{non-existent-runId} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step21_getResult404": {
        "id": "step21_getResult404",
        "name": "GET Non-existent Result",
        "type": "http",
        "dependsOn": [
          "step20_assertWorkflowRun404"
        ],
        "config": {
          "method": "GET",
          "url": "{{baseUrl}}/results/{{nonExistentId}}"
        }
      },
      "step22_assertResult404": {
        "id": "step22_assertResult404",
        "name": "Assert 404 for Result",
        "type": "assert",
        "dependsOn": [
          "step21_getResult404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step21_getResult404.response.statusCode}}",
              "expected": 404,
              "message": "GET /api/results/{non-existent-id} must return 404"
            }
          ]
        },
        "onError": "continue"
      },
      "step23_activateEnv404": {
        "id": "step23_activateEnv404",
        "name": "Activate Non-existent Environment",
        "type": "http",
        "dependsOn": [
          "step22_assertResult404"
        ],
        "config": {
          "method": "POST",
          "url": "{{baseUrl}}/environments/{{nonExistentId}}/activate"
        }
      },
      "step24_assertActivateEnv404": {
        "id": "step24_assertActivateEnv404",
        "name": "Assert 404 for Activate Environment",
        "type": "assert",
        "dependsOn": [
          "step23_activateEnv404"
        ],
        "config": {
          "assertions": [
            {
              "type": "equals",
              "actual": "{{step23_activateEnv404.response.statusCode}}",
              "expected": 404,
              "message": "POST /api/environments/{non-existent-id}/activate must return 404"
            }
          ]
        },
        "onError": "continue"
      }
    }
  }
}