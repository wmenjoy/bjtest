# 1.2.7 设计示意图 - 动作库

## 功能描述

管理可复用的测试动作、脚本和工作流模板。提供快速搜索、分类浏览、导入导出功能。帮助团队共享和复用测试资源。

## 页面结构

```
╔═══════════════════════════════════════════════════════════════════╗
║  动作库                         [搜索_______] [+导入] [导出]      ║
╠═══════════════════════════════════════════════════════════════════╣
║                                                                   ║
║  分类: [全部] [HTTP] [Command] [Workflow]                        ║
║                                                                   ║
║  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐     ║
║  │ 用户登录 API    │  │ 数据库查询      │  │ 文件上传        │     ║
║  │ Type: HTTP     │  │ Type: Command  │  │ Type: HTTP     │     ║
║  │ 📋 使用 15 次   │  │ 📋 使用 8 次    │  │ 📋 使用 12 次   │     ║
║  │ [查看] [复制]  │  │ [查看] [复制]  │  │ [查看] [复制]  │     ║
║  └────────────────┘  └────────────────┘  └────────────────┘     ║
║                                                                   ║
║  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐     ║
║  │ 邮件发送        │  │ 报表生成工作流  │  │ 性能测试脚本    │     ║
║  │ Type: HTTP     │  │ Type: Workflow │  │ Type: Shell    │     ║
║  │ 📋 使用 6 次    │  │ 📋 使用 20 次   │  │ 📋 使用 3 次    │     ║
║  │ [查看] [复制]  │  │ [查看] [复制]  │  │ [查看] [复制]  │     ║
║  └────────────────┘  └────────────────┘  └────────────────┘     ║
╚═══════════════════════════════════════════════════════════════════╝
```

## 交互流程

- 浏览动作库 → 按分类筛选
- 搜索 → 实时过滤动作
- 点击"查看" → 显示动作详情
- 点击"复制" → 复制到当前项目
- 点击"导入" → 上传 JSON 文件导入动作
- 点击"导出" → 选择动作导出为 JSON

## 数据字段

| 字段名 | 类型 | 校验规则 | 说明 |
|--------|------|----------|------|
| id | string | 唯一 | 动作ID |
| name | string | 必填 | 动作名称 |
| type | enum | HTTP/COMMAND/WORKFLOW/SHELL | 类型 |
| usageCount | number | ≥0 | 使用次数 |
| content | object | 必填 | 动作内容 |

## 权限说明

- 访问权限：已登录用户
- 权限要求：VIEW_LIBRARY 权限

## 后端 API 依赖

- `GET /api/library` - 获取动作库列表
- `POST /api/library/import` - 导入动作
- `GET /api/library/export` - 导出动作

## 实现建议

- 使用卡片布局展示动作
- 支持拖拽复制到测试用例
- 实现批量导入导出
- 添加使用统计和热门推荐

## 测试要点

- [ ] 动作列表正确显示
- [ ] 分类筛选功能正常
- [ ] 搜索功能实时过滤
- [ ] 复制动作成功
- [ ] 导入导出功能正常

### 子功能 1: 动作详情对话框

```
       ╔═══════════════════════════════════════╗
       ║  动作详情: 用户登录 API          [×]  ║
       ╠═══════════════════════════════════════╣
       ║                                       ║
       ║  类型: HTTP Request                   ║
       ║  使用次数: 15                         ║
       ║  创建时间: 2024-10-15                 ║
       ║  最后使用: 2024-11-22                 ║
       ║                                       ║
       ║  配置:                                ║
       ║  {                                    ║
       ║    "url": "{{API_BASE}}/auth/login",  ║
       ║    "method": "POST",                  ║
       ║    "headers": {...},                  ║
       ║    "body": {...}                      ║
       ║  }                                    ║
       ║                                       ║
       ║  [复制到项目]  [编辑]  [删除]  [关闭] ║
       ╚═══════════════════════════════════════╝
```

---

*此线框图由 ui-wireframe-generator skill 自动生成*
