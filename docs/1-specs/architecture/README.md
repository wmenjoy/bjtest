# Architecture - 架构设计规范

**目录类型**: 技术规范 (1-specs)
**版本**: 1.0
**最后更新**: 2025-11-27

---

## 📁 目录用途

本目录存放系统架构的权威技术规范文档，记录系统的整体设计、技术选型和架构决策的最终结果。

### 与其他目录的区别

| 目录 | 内容 | 关系 |
|-----|------|------|
| `1-specs/architecture/` | **是什么**架构（最终规范） | 本目录 |
| `6-decisions/` | **为什么**选择这个架构（决策过程） | 决策后创建specs文档 |
| `5-wiki/architecture/` | 模块的业务职责和依赖关系 | 业务视角的架构知识 |
| `3-guides/development/` | 如何按架构编码（实施指南） | 基于本目录的规范 |

---

## 📄 关键文档

### 推荐创建的文档 (按优先级)

**P0 - 必须有**:
- [x] `overview.md` - 系统整体架构概览
  - ✅ 系统分层设计（前端+后端+数据）
  - ✅ 主要模块划分（11个核心表，5个核心模块）
  - ✅ 技术栈选择（Go + React + SQLite）
  - ✅ 部署架构（开发/生产/集群）
  - ✅ 设计原则和性能考虑

**P1 - 应该有**:
- [x] `backend-layered-design.md` - 后端分层架构设计
  - ✅ Handler-Service-Repository三层架构详解
  - ✅ 每层职责和禁止事项
  - ✅ 依赖规则和接口设计
  - ✅ 完整代码示例
  - ✅ 依赖注入和事务管理
  - ✅ 错误处理和测试策略

- [ ] `frontend-structure.md` - 前端组件架构
  - 组件目录结构
  - 状态管理架构
  - 路由设计

**P2 - 最好有**:
- [ ] `data-flow.md` - 数据流转说明
- [ ] `module-structure.md` - 主要模块结构
- [ ] `integration-architecture.md` - 系统集成架构

### 已��在的文档

- ✅ `websocket-architecture.md` - WebSocket架构设计（已移动到此目录）
  - 实时通信架构
  - Hub-Client模式
  - 消息广播机制
  - WebSocket生命周期管理

---

## 📋 文档模板

### 架构规范文档标准结构

```markdown
# [组件/系统名称] 架构设计

**版本**: 1.0
**最后更新**: YYYY-MM-DD
**维护者**: [团队名称]
**状态**: Draft / Review / Approved

---

## 概述

简要说明本架构涵盖的范围和设计目标。

## 架构原则

列出指导本架构设计的核心原则。

## 系统架构

### 层次划分

描述系统的分层结构。

### 组件关系

描述主要组件及其交互方式。

## 技术栈

- 语言/框架
- 核心依赖库
- 基础设施

## 设计约束

说明架构设计中的限制条件和权衡考虑。

## 扩展性考虑

说明架构的扩展方向和预留接口。

## 相关文档

- [架构决策](../../6-decisions/YYYY-MM-DD-architecture-decision.md)
- [模块边界](../../5-wiki/architecture/module-boundaries.md)
- [开发指南](../../3-guides/development/code-organization.md)

---

**审核历史**:
- YYYY-MM-DD: 初始版本 - [Author]
```

---

## 🔗 相关文档

- [文档标准](../../directory-standards.md) - 查看完整的文档组织规范
- [架构决策记录](../../6-decisions/) - 查看为什么做出这些架构选择
- [模块边界](../../5-wiki/architecture/module-boundaries.md) - 查看模块职责划分
- [开发指南](../../3-guides/development/) - 查看如何实施这些架构

---

## 📌 注意事项

1. **保持权威性**: 这里的文档是架构的权威规范，必须经过审核
2. **及时更新**: 架构调整后必须同步更新文档
3. **关联ADR**: 每个架构规范应该关联对应的架构决策记录
4. **避免重复**: 不要在这里重复记录业务逻辑，业务逻辑放在5-wiki/

---

**维护者**: 架构师、技术负责人
**创建日期**: 2025-11-27
